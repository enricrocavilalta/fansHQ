<h1>Create a Link Post</h1>
<form action="/posts" method="POST" enctype="multipart/form-data">
  <input type="hidden" name="media_type" value="link">

  <label>Title:</label><br>
  <input type="text" name="title"><br>

  <label>Description:</label><br>
  <textarea name="content"></textarea><br>

  <label>Link URL:</label><br>
  <input type="url" name="media_url" required><br>

  <label>Price (optional):</label><br>
  <input type="number" name="price" step="0.01" min="0"><br><br>

  <label>Choose link display mode:</label><br>

  <label class="mode-box" id="boxText">
    <input type="radio" name="display_mode" value="text" id="textRadio" checked>
    <strong>üìù Text</strong><br>
    <label>Display Text:</label><br>
    <input type="text" name="display_text" placeholder="e.g. Read more">
  </label>

  <label class="mode-box" id="boxImage">
    <input type="radio" name="display_mode" value="image" id="imageRadio">
    <strong>üñºÔ∏è Image</strong><br>
    <label>Thumbnail Image:</label><br>
    <input type="file" name="thumbnail" accept="image/*">
  </label>

  <br><br>
  <button type="submit">Create Link Post</button>
</form>

<!-- Styling and Script -->
<%- include('partials/header') %>

<style>
  .mode-box {
    display: inline-block;
    width: 45%;
    vertical-align: top;
    border: 2px solid #ccc;
    border-radius: 10px;
    padding: 15px;
    margin: 10px;
    opacity: 0.5;
    cursor: pointer;
    transition: opacity 0.3s, border-color 0.3s;
  }

  .mode-box input[type="radio"] {
    display: none;
  }

  .mode-box.selected {
    opacity: 1;
    border-color: #333;
    background-color: #f0f0f0;
  }
</style>

<script>
  const textRadio = document.getElementById('textRadio');
  const imageRadio = document.getElementById('imageRadio');
  const boxText = document.getElementById('boxText');
  const boxImage = document.getElementById('boxImage');

  function toggleModeBoxes() {
    boxText.classList.toggle('selected', textRadio.checked);
    boxImage.classList.toggle('selected', imageRadio.checked);
  }

  textRadio.addEventListener('change', toggleModeBoxes);
  imageRadio.addEventListener('change', toggleModeBoxes);
  toggleModeBoxes(); // On page load
</script>
